version: "3.8"

services:
  # ===== Next.js App Service ===== #
  app:
    # Build from Dockerfile in current directory
    build:
      context: .
      dockerfile: Dockerfile

    # Container name
    container_name: study-buddy-app

    # Port mapping (host:container)
    ports:
      - "3000:3000"

    # Environment variables
    environment:
      - NODE_ENV=production

    # Restart policy
    restart: unless-stopped
